@(peliculas: List[Pelicula], salas: List[Sala], peliculaForm: Form[Pelicula], salaForm: Form[Sala])

@import helper._
@import helper.twitterBootstrap._

<html>

	<head>
		<link rel="stylesheet" type="text/css" media="screen" href="@routes.Assets.at("stylesheets/bootstrap.css")">
		<link rel="stylesheet" type="text/css" media="screen" href="@routes.Assets.at("stylesheets/bootstrap.min.css")">
		<link rel="stylesheet" type="text/css" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
		<link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
		<title>Panel de Administracion - Principal</title>
	</head>
	
	<body>
	
		<div class="container">
			
			<div class="navbar">
				<div class="navbar-inner">
					<a class="brand" href="/"><img src="@routes.Assets.at("images/logo.png")"> Inicio</a>
				 	<ul class="nav">
						<li class="divider-vertical"><a href="/admin/adminPeliculas">Peliculas</a></li>
						<li class="divider-vertical"><a href="/admin/adminSesiones">Sesiones</a></li>
					 	<li class="divider-vertical"><a href="/admin/adminTipoSesion">Tipos de Sesion</a></li>
				 	</ul>
			 	</div>
		 	</div>
		
			<h1>Panel de Administración</h1>
			<h2>Crear sesiones en salas</h2>
			<h3>
				Salas:
				<button type="button" class="btn btn-primary" onclick="location.href='#'">Añadir</button>
			</h3>
			<table class="table table-striped">
				<tr>
					<th>ID</th>
					<th>Numero de sala</th>
					<th>Número de butacas</th>
					<th>Fecha</th>
					<th></th>
					<th></th>
					<th></th>
				</tr>
				@for(sala <- salas) {
			
					<tr>
						<td>@sala.getId()</td>
						<td>@sala.getNumero()</td>
						<td>@sala.getNumButacas()</td>
						@form(routes.Administracion.getSesionesDeSala(sala.getId())) {
							<td><input type="date" name="fechaSala" id="fechaSala" error="Fecha no válida"></td>
			            	<td><input class="btn btn-success btn-small" type="submit" value="Ver sesiones"></td>
			            }
			            <form>
				            <td><input class="btn btn-warning btn-small" type="submit" value="Editar"></td>
			            </form>
						<form>
			            	<td><input class="btn btn-danger btn-small" type="submit" value="Borrar"></td>
			            </form>		            	
					</tr>
				}
			</table>
			
			<h2>Asignar/Eliminar sesiones de películas</h2>	
			<h3>
				Peliculas:
				<button type="button" class="btn btn-primary" onclick="location.href='#'">Añadir</button>
			</h3>
			<table class="table table-striped">
				<tr>
					<th>ID</th>
					<th>Titulo</th>
					<th>Duración</th>
					<th>Año</th>
					<th>Género</th>
					<th>Fecha</th>
					<th></th>
					<th></th>
					<th></th>
				</tr>
				@for(peli <- peliculas) {
					<tr>
						<td>@peli.getId()</td>
						<td>@peli.getTitulo()</td>
						<td>@peli.getDuracion() min.</td>
						<td>@peli.getAnio()</td>
						<td>@peli.getGenero()</td>
						@form(routes.Administracion.getSesionesDePelicula(peli.getId())) {
						    <td><input type="date" name="fechaPeli" id="fechaPeli"></td>
			            	<td><input class="btn btn-success btn-small" type="submit" value="Ver sesiones"></td>
			            }
			            @form(routes.Administracion.editarPelicula(peli.getId())) {
				            <td><input class="btn btn-warning btn-small" type="submit" value="Editar"></td>
			            }
						@form(routes.Administracion.borrarPelicula(peli.getId())) {
			            	<td><input class="btn btn-danger btn-small" type="submit" value="Borrar"></td>
			            }
					</tr>
				}
			</table>
			
			<div class="row offset2">
				<div class="span4">
					<h2>Añadir sala</h2>
				
					@form(routes.Administracion.nuevaSala(), 'class -> ".form-horizontal") {
				
				        @inputText(	salaForm("numero"), 'class -> ".control-group",
				        			'_label -> "Número de sala") 
				                	
				        @inputText( salaForm("numButacas"), 'class -> ".control-group",
				        			'_label -> "Número de butacas")
						
						@defining(salaForm("id")) { uidField =>
						  <input type="hidden" name="@uidField.name" id="@uidField.id" value="@uidField.value">
						}
						
						<div class=".control-group">
				        	<input class="btn btn-success" type="submit" value="Guardar">
				        </div>
			    	}
		    	</div>
				<div class="span4">
					<h2>Añadir película</h2>
		
					@form(routes.Administracion.nuevaPelicula(), 'class -> ".form-horizontal") {
					
				        @inputText(	peliculaForm("titulo"), 'class -> ".control-group",
				        			'_label -> "Titulo") 
				                	
				        @inputText( peliculaForm("anio"), 'class -> ".control-group",
				        			'_label -> "Año")
				                	
				        @inputText( peliculaForm("genero"), 'class -> ".control-group",
				        			'_label -> "Género")
				        
				        @textarea( peliculaForm("sinopsis"), 'class -> ".control-group",
				        			'_label -> "Sinopsis")
				        		
				        @inputText( peliculaForm("imagenCartelera"), 'class -> ".control-group",
				        			'_label -> "Imagen de la cartelera")
						
						@defining(peliculaForm("id")) { uidField =>
						  <input type="hidden" name="@uidField.name" id="@uidField.id" value="@uidField.value">
						}
						
						<div class=".control-group">
				        	<input class="btn btn-success" type="submit" value="Guardar">
				        </div>
			    	}
			    </div>
			</div>
		</div>
	</body>
</html>